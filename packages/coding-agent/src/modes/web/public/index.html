<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>pi --mode web</title>
		<link rel="stylesheet" href="/vendor/xterm.css" />
		<style>
			:root {
				--bg: #0a0f1a;
				--panel: #111827;
				--line: #273245;
				--text: #e5e7eb;
				--muted: #93a0b7;
				--good: #34d399;
				--warn: #f59e0b;
				--bad: #f87171;
			}
			* {
				box-sizing: border-box;
			}
			html,
			body {
				width: 100%;
				height: 100%;
				margin: 0;
			}
			body {
				background: radial-gradient(1200px 700px at 10% -10%, #1e3a8a33 0%, var(--bg) 45%);
				color: var(--text);
				font-family:
					"Iosevka Web",
					"JetBrains Mono",
					"SFMono-Regular",
					Menlo,
					monospace;
			}
			main {
				height: 100%;
				padding: 12px;
				display: grid;
				grid-template-rows: auto 1fr;
				gap: 10px;
			}
			.topbar {
				background: color-mix(in srgb, var(--panel) 88%, transparent);
				border: 1px solid var(--line);
				border-radius: 10px;
				padding: 8px 10px;
				display: flex;
				align-items: center;
				gap: 12px;
				font-size: 12px;
			}
			.status {
				font-weight: 700;
			}
			.status.connecting {
				color: var(--warn);
			}
			.status.connected {
				color: var(--good);
			}
			.status.disconnected,
			.status.stopped {
				color: var(--bad);
			}
			button {
				background: #1d2638;
				color: var(--text);
				border: 1px solid var(--line);
				border-radius: 8px;
				padding: 6px 9px;
				font: inherit;
				cursor: pointer;
			}
			#terminal-wrapper {
				background: #05070d;
				border: 1px solid var(--line);
				border-radius: 12px;
				overflow: hidden;
				min-height: 0;
				padding: 6px;
			}
			#terminal {
				width: 100%;
				height: 100%;
				min-height: 0;
			}
			.detail {
				color: var(--muted);
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
			}
		</style>
	</head>
	<body>
		<main>
			<section class="topbar">
				<div>pi web terminal</div>
				<div id="status" class="status connecting">connecting</div>
				<div id="detail" class="detail">Waiting for terminal session...</div>
				<button id="reconnect" type="button">Reconnect</button>
			</section>
			<section id="terminal-wrapper">
				<div id="terminal"></div>
			</section>
		</main>

		<script src="/vendor/xterm.js"></script>
		<script src="/vendor/xterm-addon-fit.js"></script>
		<script>
			window.__PI_WEB_BOOTSTRAP__ = __PI_WEB_BOOTSTRAP_JSON__;
		</script>
		<script type="module" src="/app.js"></script>
	</body>
</html>
